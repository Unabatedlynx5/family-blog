---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import '../worker-exports.js';

export const prerender = false;

// Check if user is authenticated
const token = Astro.cookies.get('accessToken')?.value;
const isAuthenticated = !!token;

// If authenticated, redirect to feed
if (isAuthenticated) {
  return Astro.redirect('/feed');
}
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
		<main class="max-w-[940px] mx-auto my-8 p-4">
			<section class="text-center py-16 px-8 bg-gradient-to-br from-[#667eea] to-[#764ba2] text-white rounded-2xl my-8">
				<h1 class="text-5xl mb-4 font-extrabold">ğŸ  Family Blog</h1>
				<p class="text-xl mb-8 opacity-95">A private space to share updates, memories, and moments with the people who matter most.</p>
				<a href="/login" class="inline-block px-10 py-4 bg-white text-[#667eea] rounded-lg no-underline font-bold text-lg transition-transform hover:-translate-y-0.5 hover:shadow-2xl">Sign In to Get Started</a>
			</section>

			<section class="grid grid-cols-[repeat(auto-fit,minmax(280px,1fr))] gap-8 my-12">
				<div class="p-8 bg-gray-light rounded-xl text-center">
					<div class="text-5xl mb-4">ğŸ“</div>
					<h3 class="mb-2 text-gray-dark">Share Updates</h3>
					<p class="text-gray leading-relaxed">Post text updates, photos, and stories with your family members in a private, secure environment.</p>
				</div>
				<div class="p-8 bg-gray-light rounded-xl text-center">
					<div class="text-5xl mb-4">ğŸ–¼ï¸</div>
					<h3 class="mb-2 text-gray-dark">Photo Sharing</h3>
					<p class="text-gray leading-relaxed">Upload and share photos with automatic cloud storage. Keep your family memories safe and accessible.</p>
				</div>
				<div class="p-8 bg-gray-light rounded-xl text-center">
					<div class="text-5xl mb-4">ğŸ’¬</div>
					<h3 class="mb-2 text-gray-dark">Real-Time Chat</h3>
					<p class="text-gray leading-relaxed">Connect with family members instantly through our live chat feature for quick conversations.</p>
				</div>
				<div class="p-8 bg-gray-light rounded-xl text-center">
					<div class="text-5xl mb-4">ğŸ”’</div>
					<h3 class="mb-2 text-gray-dark">Privacy First</h3>
					<p class="text-gray leading-relaxed">Your family's data is protected with enterprise-grade security. Only invited members can access the blog.</p>
				</div>
				<div class="p-8 bg-gray-light rounded-xl text-center">
					<div class="text-5xl mb-4">ğŸ“±</div>
					<h3 class="mb-2 text-gray-dark">Mobile Friendly</h3>
					<p class="text-gray leading-relaxed">Access your family blog from any device - desktop, tablet, or mobile phone.</p>
				</div>
				<div class="p-8 bg-gray-light rounded-xl text-center">
					<div class="text-5xl mb-4">ğŸ“°</div>
					<h3 class="mb-2 text-gray-dark">RSS Feed</h3>
					<p class="text-gray leading-relaxed">Stay updated with new posts through RSS feeds that you can subscribe to in your favorite reader.</p>
				</div>
			</section>

			<section class="bg-gradient-to-b from-gray-light/50 to-white py-12 px-8 rounded-2xl my-8">
				<h2 class="text-center mb-6 text-gray-dark">About This Platform</h2>
				<p class="max-w-[700px] mx-auto mb-4 leading-loose text-gray">
					This family blog is designed to keep loved ones connected, no matter the distance. 
					Share your daily moments, celebrate milestones, and maintain strong family bonds through 
					a platform that values your privacy and security.
				</p>
				<p class="max-w-[700px] mx-auto mb-4 leading-loose text-gray">
					Built on Cloudflare's global infrastructure, your family blog is fast, reliable, and always available. 
					With features like photo uploads, real-time chat, and a beautiful reading experience, 
					it's the perfect way to stay in touch with family.
				</p>
				<p class="text-center mt-8">
					<strong>Ready to get started?</strong> 
					<a href="/login" class="text-[#667eea] underline">Sign in to your account</a> 
					or contact the administrator for access.
				</p>
			</section>
		</main>
		<Footer />
	</body>
</html>
